<html>
<head>
    <link rel="Stylesheet" type="text/css" href="css/style.css" />
	<link rel="shortcut icon" type="image/x-icon" href="http://www.vim.org/images/vim_shortcut.ico">
    <title>historian</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<!-- Bootstrap or materialize -->
	<!-- <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/darkly/bootstrap.min.css" rel="stylesheet" integrity="sha384-S7YMK1xjUjSpEnF4P8hPUcgjXYLZKK3fQW1j5ObLSl787II9p8RO9XUGehRmKsxd" crossorigin="anonymous"> -->
	<link href="css/bootstrap-theme.min.css" rel="stylesheet" >
	<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css"> -->

	<!-- Roboto Font -->
	<link href='css/roboto.css' rel='stylesheet' type='text/css'>

	<!-- Code Prettify -->
	<script async src="js/code-prettify.js"></script>

	<!-- Some CSS, for removing Code prettify borders -->
	<style>


		pre.prettyprint {
			border: none !important;
			padding : 0.3px !important;
			color : white !important;
			background-color: #222222 !important;
		}

		div > pre > p {
			display : none !important;
		}
		div > pre > span {
			display : none !important;
		}

		body {
			font-family: Roboto Condensed, sans-serif !important; 
		}

	</style>
</head>
<body>

	<nav class="navbar navbar-inverse">
			<ul class="nav navbar-nav">
				<li><a class ="title" href="#">Vim Wiki</a></li>
				<li><a class = "nav-item"href="index.html">Index</a></li>
				<li><a class = "nav-item"href="work.html">Work</a></li>
				<li><a class = "nav-item"href="diary/diary.html">Diary</a></li>
				<li><a class = "nav-item"href="todo:all.html">Todo</a></li>
			</ul>
		</div>
	</nav>


    <div class="container">
		
<div id="historian"><h1 id="historian" class="header"><a href="#historian">historian</a></h1></div>
<div id="historian-documentation"><h2 id="documentation" class="header"><a href="#historian-documentation">documentation</a></h2></div>
<ol>
<li>
historianconcepts.pdf

<ul>
<li>
general overview and every subsystem in detail

</ul>
<li>
historianadmin.pdf

<ul>
<li>
administer and maintain an installed historian, data acquisition and storage, security and monitor the system

</ul>
<li>
histariandatabase.pdf

<ul>
<li>
entities, tables, views, stored procedures

</ul>
<li>
historianscenarios.pdf

<ul>
<li>
how to use historian server to address common customer scenarios

</ul>
<li>
historianglossary.pdf

<ul>
<li>
definitions and abbreviations

</ul>
<li>
historianretrieval.pdf

<ul>
<li>
data retrieval

</ul>
<li>
historiandatabaseschema.pdf

<ul>
<li>
schema

</ul>
</ol>

<div id="historian-wonderware software solutions"><h2 id="wonderware software solutions" class="header"><a href="#historian-wonderware software solutions">wonderware software solutions</a></h2></div>
<ul>
<li>
<a href="MES.html">MES</a>

<ul>
<li>
tracks raw products -&gt; finished products

<li>
gathers in-process data; yields, throughput, efficiencies, consumption, product quality

<li>
functionality; inventory management, work order / bill of material, real-time reporting and analysis

</ul>
<li>
<a href="glossary.html">EMI</a>

<ul>
<li>
analalyze Key Performance Indicators using data alalysis / visualization tools

<li>
<a href="glossary.html">KPI</a>s:

<ul>
<li>
production

<li>
cost

<li>
process capability

<li>
equipment downtime

<li>
quality

<li>
variance 

</ul>
</ul>
<li>
BATCH MANAGEMENT

<ul>
<li>
repeatable and consistent execution of batching processess

<li>
<a href="glossary.html">ERB</a>;Electronic Batch Records

</ul>
<li>
Product Quality Management

<ul>
<li>
<a href="glossary.html">SPC</a>;Statistical Process Control

<li>
high quality = "meeting specifications at the lowest possible cost"

</ul>
<li>
Skelta <a href="glossary.html">BPM</a>

<ul>
<li>
operating procedures, in-house knowledge, standard practices -&gt; everyday operations

</ul>
</ul>

<div id="historian-archestra technology"><h2 id="archestra technology" class="header"><a href="#historian-archestra technology">archestra technology</a></h2></div>
<ul>
<li>
Framework

<ul>
<li>
supports common services and a core set of system objects

</ul>
<li>
Domain Objects

<ul>
<li>
industry-specifif objects

</ul>
<li>
Object Development Toolkit

<ul>
<li>
enables third parties to create new domain objects customized for specific needs

</ul>
<li>
Configuration and Deployment-Related Components

<ul>
<li>
Centralized object repository (Galaxy Repository)

<li>
Integrated Development Enviroment (IDE)

<li>
Object deployment services (bootstrap)

</ul>
<li>
Runtime Components

<ul>
<li>
PCs with core infrastructure (platforms)

<li>
Key software applications (engines)

<li>
Objects (Framework Objects)

</ul>
</ul>

<div id="historian-individual products"><h2 id="individual products" class="header"><a href="#historian-individual products">individual products</a></h2></div>
<ul>
<li>
WonderWare

<ul>
<li>
System Platform

<ul>
<li>
the plant model, representation of the physical processs

<li>
object technology

</ul>
<li>
InTouch

<ul>
<li>
<a href="glossary.html">HMI</a>

</ul>
<li>
InTouch Access Anywhere

<ul>
<li>
web <a href="glossary.html">HMI</a>/mobile <a href="SCADA.html">SCADA</a>

</ul>
<li>
InTouch Machine Edition

<ul>
<li>
small footprint devices

</ul>
<li>
Development Studio

<ul>
<li>
IDE

</ul>
<li>
Skelta <a href="glossary.html">BPM</a> (archestra workflow)

<ul>
<li>
automate processes (people / systems)

<li>
Business Process Management

</ul>
<li>
Historian Server

<ul>
<li>
relational database

<li>
realtime

</ul>
<li>
Historial Client

<ul>
<li>
data analysis, visualization and reporting

<li>
integrated with microsoft office; excel, word

</ul>
<li>
Information Server

<ul>
<li>
web server

</ul>
<li>
Intelligence

<ul>
<li>
gather, store and report on operational data

<li>
dashboard to present KPIs that visualizes/tunes operations

</ul>
<li>
<a href="MES.html">MES</a>/Operations

<ul>
<li>
improve operational efficiency, responsiveness

<li>
work order management, <a href="glossary.html">BOM</a>, specs, data collection and traceability (track, trace, genealogy)

</ul>
<li>
<a href="MES.html">MES</a>/Performance

<ul>
<li>
collecting, tracking and communicating realtime equipment performance and efficiency

<li>
uses InVensys InFusion <a href="glossary.html">ECS</a> for integration, development and reporting

</ul>
<li>
<a href="MES.html">MES</a>/Quality

<ul>
<li>
historical documentation of quality sample data and <a href="glossary.html">SPC</a>-monitoring

<li>
incorporates records of operational performance for compliance with internal, governmental or safety regulation that require tighter quality control

</ul>
<li>
QI Analyst

<ul>
<li>
online and historical <a href="glossary.html">SPC</a> to view a process "health" over time

<li>
via stored process data and external data sources, users can leverage enterprise-wide <a href="glossary.html">SPC</a>

</ul>
<li>
InBatch

<ul>
<li>
automates recipe management using <a href="glossary.html">SFC</a>

<li>
batch execution, equipment history, material genealogy, stringent security, implement FDA 21 CF

</ul>
<li>
SCADAlarm

<ul>
<li>
alarm and event-notification

</ul>
<li>
Toolkits

<ul>
<li>
Archestra Object Toolkit

<ul>
<li>
extend with object that provide application or device integration functionality

</ul>
<li>
GRAccess Toolkit

<ul>
<li>
programmatic access to and interaction with System Platform galaxy configuration data

</ul>
<li>
MXAccess Toolkit

<ul>
<li>
programmatic access to runtime data in a System Platform galaxy

</ul>
<li>
DAServer Toolkit

<ul>
<li>
build custom device integration

</ul>
<li>
Historian Toolkit

<ul>
<li>
high-value industrial applications that integrate with data sources from System Platform and others

</ul>
<li>
Alarm Toolkit

<ul>
<li>
create custom distributed alarm providers/pubs and consumers/subs

</ul>
<li>
Wizard Toolkit

<ul>
<li>
create own wizards for intouch

</ul>
<li>
Script Toolkit

<ul>
<li>
custom intouch scripts

</ul>
</ul>
<li>
Device Integration Servers

<ul>
<li>
PLCs, RTUs, DCSs, flow controllers, loop controllers, scales, gauges, barcode readers

</ul>
<li>
Enterprise Integrator

<ul>
<li>
MES, System Platform, enterprise systems

</ul>
<li>
IntelaTrac

<ul>
<li>
mobile workforce and decision support system

<li>
barcode, rfid

</ul>
<li>
Industrial Computers

<ul>
<li>
harsh environments

</ul>
<li>
Remote Response Objects

<ul>
<li>
archestra objects that integrate with system platform and an be customized to deliver alarm notifications via email/sms

<li>
can view, ack and respond to events/alarms

</ul>
<li>
Corporate Energy Management

<ul>
<li>
energy usage

<li>
raw energy data from meters transforms into information

</ul>
<li>
Well Field Application

<ul>
<li>
on-shore oil and gas fields

</ul>
<li>
Recipe Manager Plus

<ul>
<li>
central repository for standardizing recipe management

</ul>
<li>
SmartGlance

<ul>
<li>
mobile phones and tablets

<li>
can use historian or any sql-database

</ul>
<li>
Alarm Advicer

<ul>
<li>
online alarm / event presenter

</ul>
<li>
Online

<ul>
<li>
managed historian online

<li>
includes a tier-1 managed historian, trend desktop client, smartglance mobile app

</ul>
</ul>
</ul>

<div id="historian-dump"><h2 id="dump" class="header"><a href="#historian-dump">dump</a></h2></div>
<p>
move later
</p>
<ul>
<li>
sql server login

<ul>
<li>
aaAdministrator

</ul>
</ul>

<div id="historian-dump-history blocks"><h3 id="history blocks" class="header"><a href="#historian-dump-history blocks">history blocks</a></h3></div>
<ul>
<li>
self contained

<li>
scheduled block changes

<li>
only history data

<li>
config on regular sql 

<li>
named by creation date

</ul>

<div id="historian-dump-data retrieval"><h3 id="data retrieval" class="header"><a href="#historian-dump-data retrieval">data retrieval</a></h3></div>
<ul>
<li>
types

<ul>
<li>
interpolated

<li>
counter

<li>
delta

<li>
best fit

</ul>
<li>
clients

<ul>
<li>
trend

<li>
archestra graphics

<ul>
<li>
alarm client

<li>
trend pen

<li>
activex, dotnet control

</ul>
<li>
workbook

<ul>
<li>
excel

</ul>
<li>
report

<ul>
<li>
word

</ul>
<li>
query

<ul>
<li>
run sql

</ul>
<li>
active data grid

<ul>
<li>
prebuilt queries and other databases

</ul>
</ul>
<li>
insight 

<ul>
<li>
dashboards

</ul>
<li>
smartglance

<ul>
<li>
small devices

</ul>
<li>
dream report

<ul>
<li>
wonderware extensions

<li>
reports in general

</ul>
</ul>

<div id="historian-dump-modules"><h3 id="modules" class="header"><a href="#historian-dump-modules">modules</a></h3></div>
<ul>
<li>
storage

<ul>
<li>
realtime plant data

<li>
analog, summary, discreet, state summary, string data, system data

</ul>
<li>
classic data

<ul>
<li>
legacy

</ul>
<li>
import

<ul>
<li>
intouch history

<li>
lgh

<li>
csv files in fast load

</ul>
<li>
replication

<ul>
<li>
data transformation from tier 1 -&gt; tier 2

</ul>
<li>
classic event data

<ul>
<li>
mail on event

</ul>
<li>
retrieval

<ul>
<li>
locate, process, return

<li>
converts to sql-tables from blocks

</ul>
<li>
indexing

<ul>
<li>
tunes / mods 

</ul>
<li>
<a href="glossary.html">OLE</a>-DB

<ul>
<li>
parses and returns as sql

<li>
translation <a href="glossary.html">OLE</a> -&gt; microsoft sql

</ul>
<li>
i/o server

<ul>
<li>
suitelink 

</ul>
<li>
client access point

<ul>
<li>
application server

<li>
<a href="glossary.html">HCAL</a>

</ul>
<li>
metadata server

<li>
event storage

<ul>
<li>
alarms adn events -&gt; history blocks

</ul>
<li>
system driver

<ul>
<li>
storage limits

<li>
clock

<li>
performance

</ul>
<li>
data aquisition on \\

<ul>
<li>
<a href="glossary.html">IDAS</a>

</ul>
</ul>

<div id="historian-dump-management console"><h3 id="management console" class="header"><a href="#historian-dump-management console">management console</a></h3></div>
<ul>
<li>
status

<li>
data aquisition

<li>
replication

<li>
client connection

<li>
history blocks

</ul>

<div id="historian-dump-configuration editor"><h3 id="configuration editor" class="header"><a href="#historian-dump-configuration editor">configuration editor</a></h3></div>

<div id="historian-dump-configuration editor-parameters"><h4 id="parameters" class="header"><a href="#historian-dump-configuration editor-parameters">parameters</a></h4></div>
<ul>
<li>
constraint that controls some kind of behavior

<li>
modification tracking

<ul>
<li>
modlogtrackingstatus

<ul>
<li>
binary options; insert, update, delete

<li>
insertions

<li>
updates

<li>
2,1

<li>
deletions

<li>
4,1

<li>
4,2

<li>
4,2,1

</ul>
</ul>
</ul>
<div id="historian-dump-configuration editor-data aquisition"><h4 id="data aquisition" class="header"><a href="#historian-dump-configuration editor-data aquisition">data aquisition</a></h4></div>

<div id="historian-dump-configuration editor-data aquisition-io server types"><h5 id="io server types" class="header"><a href="#historian-dump-configuration editor-data aquisition-io server types">io server types</a></h5></div>
<ul>
<li>
every supported type when shipped

<li>
over 500

</ul>

<div id="historian-dump-configuration editor-data aquisition-system driver"><h5 id="system driver" class="header"><a href="#historian-dump-configuration editor-data aquisition-system driver">system driver</a></h5></div>
<ul>
<li>
key variables in a server

<li>
output values via system tags

<li>
runs as a windows server

<li>
grows via IDAS

<li>
always local time for the server

<li>
sysstatusmode

<ul>
<li>
state

<ul>
<li>
null stopped

<li>
0 read

<li>
1 rw

</ul>
</ul>
</ul>

<div id="historian-dump-configuration editor-data aquisition-[[glossary|IDAS]]-MMDEV"><h5 id="[[glossary|IDAS]]-MMDEV" class="header"><a href="#historian-dump-configuration editor-data aquisition-[[glossary|IDAS]]-MMDEV"><a href="glossary.html">IDAS</a>-MMDEV</a></h5></div>
<ul>
<li>
suitelink topics

<li>
tag names

</ul>

<div id="historian-dump-configuration editor-data aquisition-[[glossary|MDAS]]/manual tags"><h5 id="[[glossary|MDAS]]/manual tags" class="header"><a href="#historian-dump-configuration editor-data aquisition-[[glossary|MDAS]]/manual tags"><a href="glossary.html">MDAS</a>/manual tags</a></h5></div>
<ul>
<li>
-&gt; historian

<li>
legacy

</ul>

<div id="historian-dump-configuration editor-storage"><h4 id="storage" class="header"><a href="#historian-dump-configuration editor-storage">storage</a></h4></div>
<ul>
<li>
paths and storagespace for history blocks

</ul>

<div id="historian-dump-configuration editor-storage-storage location"><h5 id="storage location" class="header"><a href="#historian-dump-configuration editor-storage-storage location">storage location</a></h5></div>
<ul>
<li>
circular storage

<li>
folder / subdir

<li>
treated as a circular buffer / queue

<li>
oldest is deleted if full

<ul>
<li>
alternate storage -&gt; migrated

</ul>
<li>
properties -&gt; path -&gt; size

<li>
data retrieval

<ul>
<li>
circular -&gt; alternate -&gt; buffer -&gt; permanent

</ul>
<li>
circular

<ul>
<li>
first / primary

<li>
queue

<li>
must be located at the same computer

<li>
ssd/raid preferred

<li>
need to restart historian for size changes

</ul>
<li>
alternate

<ul>
<li>
may be network storage

<li>
no mapped drives

</ul>
<li>
buffer

<ul>
<li>
never auto deleted

<li>
historian server admin

<li>
unique path

</ul>
<li>
permanent

<ul>
<li>
well, permanent data

<li>
will never be deleted from historian

</ul>
</ul>

<div id="historian-dump-configuration editor-tag configuration"><h4 id="tag configuration" class="header"><a href="#historian-dump-configuration editor-tag configuration">tag configuration</a></h4></div>
<ul>
<li>
represent a single attribute of a process/device

<li>
unique names

</ul>

<div id="historian-dump-configuration editor-replication"><h4 id="replication" class="header"><a href="#historian-dump-configuration editor-replication">replication</a></h4></div>
<table>
<tr>
<td>
tier1
</td>
<td>
source
</td>
</tr>
<tr>
<td>
tier2
</td>
<td>
destination
</td>
</tr>
</table>

<div id="historian-security"><h2 id="security" class="header"><a href="#historian-security">security</a></h2></div>
<ul>
<li>
must pass both

<ul>
<li>
windows os

<li>
sql server

</ul>
<li>
groups

<ul>
<li>
aaAdministrators

<li>
aaPowerUsers

<li>
aaUsers

<li>
aaReplicationUsers

</ul>
<li>
user/pass:

<ul>
<li>
aaUser -&gt; pwUser

<li>
aaUser; R

<li>
aaPower; CRU basics

<li>
aaAdmin; CRU

<li>
aadbo; CRUD

</ul>
<li>
DO use groups, not specific users

</ul>

<div id="historian-security-tools"><h3 id="tools" class="header"><a href="#historian-security-tools">tools</a></h3></div>
<ul>
<li>
sql server management studio  

<li>
windows local users and groups <a href="glossary.html">MMC</a> is an alternative

<li>
archestra change network account utility

</ul>
<div id="historian-intouch"><h2 id="intouch" class="header"><a href="#historian-intouch">intouch</a></h2></div>
<ul>
<li>
can historize everything as process data

<li>
alarm database is a separate process

<li>
process

<ol>
<li>
aquisition

<li>
storage in history blocks

<li>
retrieval via queries from runtime

<ul>
<li>
linked via <a href="glossary.html">OLE</a>

</ul>
</ol>
<li>
regular node -&gt; application -&gt; topic -&gt; item 

<li>
storage subsystem

<ul>
<li>
intouch/suitelink IO <span id="historian-intouch-pull"></span><strong id="pull">pull</strong>

<li>
<a href="glossary.html">IDAS</a>

<li>
storage (delta default)

<li>
history block

<li>
application server

<li>
<a href="glossary.html">HCAL</a>

<li>
<a href="glossary.html">HCAP</a>

<li>
storage

<li>
history block

</ul>
</ul>

<div id="historian-direct data aquisition from a source"><h2 id="direct data aquisition from a source" class="header"><a href="#historian-direct data aquisition from a source">direct data aquisition from a source</a></h2></div>
<ul>
<li>
any <a href="glossary.html">DDE</a>, FastDDE or Suitelink can be historized directly

<li>
<a href="glossary.html">IDAS</a> is the previously used name for historian

<li>
extension table

<ul>
<li>
live

<li>
history

<li>
analogSummaryHistory

<li>
stateSummaryHistory

<li>
stateWideHistory

<li>
historyBlock

</ul>
<li>
Example
<pre>
SELECT [list]
FROM [source]
Where [condition]

SELECT Datetime, Tagname
FROM Live
Where Tagname = 'MyTag'
</pre>

</ul>


<div id="historian-[[glossary|OLE]]"><h2 id="[[glossary|OLE]]" class="header"><a href="#historian-[[glossary|OLE]]"><a href="glossary.html">OLE</a></a></h2></div>
<p>
OLE DB technology can be used to access data in any remote data store. this access is accomplished through a component called <span id="historian-[[glossary|OLE]]-OLE DB provider"></span><strong id="OLE DB provider">OLE DB provider</strong>
</p>

<p>
OLEDB is an application programming interface (API) that allows applications to access data stored in a data source.
</p>

<div id="historian-[[glossary|OLE]]-select queries"><h3 id="select queries" class="header"><a href="#historian-[[glossary|OLE]]-select queries">select queries</a></h3></div>
<ol>
<li>
four-part naming convention

</ol>
   
<ul>
<li>
INSQL.RunTime.dbo.History

<ul>
<li>
| linked_server | catalog | schema | object_name |

<li>
|---------------|---------|--------|-------------|

<li>
| INSQL         | Runtime | dbo    | History     |

</ul>
<li>
linked server; by default INSQL

<li>
catalog; name of the database, for historian OLE DB provider it's always Runtime

<li>
schema; name of the login ID, for OLEDB it's always dbo

<li>
object_name; name of the table, for historian OLE DB provider it's always History

</ul>
<li>
historian OLE DB provider

<ul>
<li>
access each of the extension tables, so no need to use four-part naming convention

</ul>
<li>
OPENQUERY function
<pre>
  select * from openquery(INSQL, 'select * from history
  where TagName = "SysTimeSec"
  AND DateTime &gt;= "yyy-mm-dd hh:mm:ss"
  AND DateTime &lt;= "yyy-mm-dd hh:mm:ss"
</pre>

<ul>
<li>
openquery is treated as a table by SQL server, and can be used in regular calls like joins, views and <a href="glossary.html">SP</a>s. SQL server sends the statement unchanged as a string to OLEDB providern

<li>
no variables in OPENROWSET
<pre>
  select * from OPENQUERY(INSQL, select DateTime, SysTimeSec
  from WideHistory
  where DateTime &gt;= "yyy-mm-dd hh:mm:ss"
  AND DateTime &lt;= "yyy-mm-dd hh:mm:ss"
  )
</pre>

</ul>
<li>
OPENROWSET function


<div id="historian-[[glossary|OLE]]-select queries-supported syntax options"><h4 id="supported syntax options" class="header"><a href="#historian-[[glossary|OLE]]-select queries-supported syntax options">supported syntax options</a></h4></div>

<table>
<tr>
<th>
syntax element
</th>
<th>
four-part query
</th>
<th>
openquery
</th>
</tr>
<tr>
<td>
order by
</td>
<td>
yes
</td>
<td>
work outside
</td>
</tr>
<tr>
<td>
group by
</td>
<td>
yes
</td>
<td>
no
</td>
</tr>
<tr>
<td>
tagname in ()
</td>
<td>
yes
</td>
<td>
yes
</td>
</tr>
<tr>
<td>
tagname like ''
</td>
<td>
yes
</td>
<td>
yes
</td>
</tr>
<tr>
<td>
date/time
</td>
<td>
yes
</td>
<td>
yes
</td>
</tr>
<tr>
<td>
math
</td>
<td>
yes
</td>
<td>
min, max, avg, sum
</td>
</tr>
<tr>
<td>
subselect
</td>
<td>
yes
</td>
<td>
no
</td>
</tr>
</table>


<div id="historian-retrieval modes"><h2 id="retrieval modes" class="header"><a href="#historian-retrieval modes">retrieval modes</a></h2></div>
<div id="historian-retrieval modes-cyclic"><h3 id="cyclic" class="header"><a href="#historian-retrieval modes-cyclic">cyclic</a></h3></div>
<ul>
<li>
it produces a virtual rowset to fill the cycles

<li>
returns the last point before the cycle boundry

<li>
may not correctly reflect the stored data (gaps, spikes)

</ul>

<div id="historian-retrieval modes-delta"><h3 id="delta" class="header"><a href="#historian-retrieval modes-delta">delta</a></h3></div>
<ul>
<li>
retrieval based on exception

<li>
duplicate values are not returned

<li>
default retrieval mode

</ul>

<div id="historian-retrieval modes-full"><h3 id="full" class="header"><a href="#historian-retrieval modes-full">full</a></h3></div>
<ul>
<li>
all stored data points are returned

<li>
allows the same value and quality pair (even null)

<li>
best representation of the process measured

<li>
huge load for the server/network

</ul>

<div id="historian-retrieval modes-interpolated"><h3 id="interpolated" class="header"><a href="#historian-retrieval modes-interpolated">interpolated</a></h3></div>
<ul>
<li>
works like cyclic except it interpolates data if it doesn't exist

</ul>

<div id="historian-retrieval modes-bestfit"><h3 id="bestfit" class="header"><a href="#historian-retrieval modes-bestfit">bestfit</a></h3></div>
<ul>
<li>
total time of the query is divided into even subperiods

<li>
then up to five values are returned for each

<ol>
<li>
first value

<li>
last value

<li>
minimum value with actual time

<li>
maximum value with actual time

<li>
first exception (non-good quality)

</ol>
<li>
compromise between delta and cyclic

</ul>

<div id="historian-retrieval modes-average"><h3 id="average" class="header"><a href="#historian-retrieval modes-average">average</a></h3></div>
<ul>
<li>
calculated time-weighted average:

<ul>
<li>
(a+b+c+d)/4

</ul>
<li>
weights:

<ul>
<li>
for linear interpolation, the midpoints are weighted

<li>
for stairstep interpolation, the earlier of two points is weighted

</ul>
</ul>

<div id="historian-retrieval modes-minimum"><h3 id="minimum" class="header"><a href="#historian-retrieval modes-minimum">minimum</a></h3></div>
<ul>
<li>
minvalue within a retrieval cycle

<ul>
<li>
if no points exists, null is returned

<li>
if the cycle contains null, null is returned

</ul>
</ul>

<div id="historian-retrieval modes-maximum"><h3 id="maximum" class="header"><a href="#historian-retrieval modes-maximum">maximum</a></h3></div>
<ul>
<li>
maxvalue within a retrieval cycle

<ul>
<li>
if no points exists, null is returned

<li>
if the cycle contains null, null is returned

</ul>
</ul>

<div id="historian-retrieval modes-integral"><h3 id="integral" class="header"><a href="#historian-retrieval modes-integral">integral</a></h3></div>
<ul>
<li>
much like average but with a scaling factor

<li>
calculate the area under the graph of data points (as in average)

<li>
scale using the value of IntegralDivisor in EngineeringUnit-table (the divisor is the conversion factor from rate to units per second

<li>
example:

<ul>
<li>
time-weighted average during a 1-min cycle is 3.5, integral returns a value of 210 (3.5 * 60)

</ul>
<li>
null are not included in integrals

</ul>

<div id="historian-retrieval modes-slope"><h3 id="slope" class="header"><a href="#historian-retrieval modes-slope">slope</a></h3></div>
<ul>
<li>
the slope of a line drawn through a given point and the point before it

<li>
rate at which the value changes

<li>
(point1 - point2) / (time1 - time2)

</ul>

<div id="historian-retrieval modes-counter"><h3 id="counter" class="header"><a href="#historian-retrieval modes-counter">counter</a></h3></div>
<ul>
<li>
deltachange of a value over time - even with rollover values

<li>
probably just abs(a) - abs(b)

<li>
for booleans the rollover is 2

<li>
has a rollover-value counter 

</ul>

<div id="historian-retrieval modes-valuestate"><h3 id="valuestate" class="header"><a href="#historian-retrieval modes-valuestate">valuestate</a></h3></div>
<ul>
<li>
how long a value has been in a given state

<li>
can return:

<ul>
<li>
shortest

<li>
longest

<li>
average

<li>
total time

</ul>
</ul>

<div id="historian-retrieval modes-roundtrip"><h3 id="roundtrip" class="header"><a href="#historian-retrieval modes-roundtrip">roundtrip</a></h3></div>
<ul>
<li>
like valuestate but the time between consecutive leading edges of the same state

<li>
used for increasing/maximizing the efficiency of a process

</ul>

<div id="historian-retrieval modes-queries"><h3 id="queries" class="header"><a href="#historian-retrieval modes-queries">queries</a></h3></div>
<pre>
FROM History
AND wwRetrievalMode = 'Cyclic'
</pre>

<div id="historian-retrieval options"><h2 id="retrieval options" class="header"><a href="#historian-retrieval options">retrieval options</a></h2></div>

<ul>
<li>
can retrieve data in extension tables using normal Transact-SQL as well as time domain extensions, also known as <span id="historian-retrieval options-retrieval options"></span><strong id="retrieval options">retrieval options</strong>

<li>
extensions ar implemented as virtual columns in the extension tables

<li>
you can specify values for these column parameters to manipulate the data

<li>
time domain extensions

<ol>
<li>
<span id="historian-retrieval options-wwCycleCount"></span><strong id="wwCycleCount">wwCycleCount</strong>

<ul>
<li>
number of cycles (subintervals)

<li>
will be spaced evenly across the period

<li>
the actual return values is not always identical with the cycle count

<li>
cyclic modes;

<ol>
<li>
cyclic

<li>
interpolated

<li>
average

<li>
integral

</ol>
<li>
in cyclic modes a single data point is returned fyor each cycle

<li>
other modes

<ol>
<li>
bestfit

<li>
minimum

<li>
maximum

<li>
counter

<li>
valuestate

<li>
roundtrip

</ol>
<li>
in other modes, multiple or no data points may be returned per cycle

<li>
<span id="historian-retrieval options-wwCycleCount"></span><strong id="wwCycleCount">wwCycleCount</strong> specifies the CycleCount

<li>
the length of each cycle (or the resolution);

<ul>
<li>
CycleLength = QueryDuration / (CycleCount-1)

</ul>
<li>
wwCycleCount and wwResolution are mutually exclusive

</ul>
<li>
wwResolution

<ul>
<li>
the resolution is the sampling interval for retrieved data; the length of each cycle

<li>
the number of cycles depends on the time period and the resolution:

<ul>
<li>
numberOfCycles = timePeriod / resolution

</ul>
<li>
since cyclic modes are based on the cycle count, it doesn't always return the same amount of data points 

<li>
instead of specifying a resolution, specify the cycle count directly
<pre>
      AND wwRetrievalMode = 'Cyclic'
      AND wwResolution = 2000
</pre>

</ul>
<li>
wwRetrievalMode

<li>
wwTimeDeadband

<li>
wwValueDeadband

<li>
wwEdgeDetection

<ul>
<li>
a time domain extension

<li>
detects value changes using edge conditions:

<ul>
<li>
for example, the point in time when a tag goes in or out of an alarm state

<li>
this imaginary line would be "the edge"

</ul>
<li>
four possible options for edge detection:

<ul>
<li>
none; all rows that meet the critera

<li>
leading; only rows that are the first to meet the critera

<li>
trailing; only rows that are first to fail the critera

<li>
both; all satisfactory rows

</ul>
<li>
AND wwEdgeDetection = 'Trailing'

</ul>
<li>
wwTimeZone

<li>
wwVersion

<li>
wwInterpolationType

<li>
wwTimeStampRule

<li>
wwQualityRule

<li>
wwValueSelector

<li>
wwStateCalc

<li>
wwFilter

<ul>
<li>
analog filters for all retrieval modes:

<ul>
<li>
statistical removal of outliers (SigmaLimit)

<li>
analog to discrete conversion (ToDiscrete)

<li>
zero around a base value (SnapTo)

</ul>
<li>
only applied to analog tags

<li>
default value for wwFilter is 'NoFilter'

<li>
one filter per query

</ul>
</ol>
</ul>

<div id="historian-retrieval options-wwFilters"><h3 id="wwFilters" class="header"><a href="#historian-retrieval options-wwFilters">wwFilters</a></h3></div>

<div id="historian-retrieval options-wwFilters-SigmaLimit"><h4 id="SigmaLimit" class="header"><a href="#historian-retrieval options-wwFilters-SigmaLimit">SigmaLimit</a></h4></div>
<ul>
<li>
analog filter that removes outliers from a set of analog points (normal distrubution)
<pre>
wwFilter = 'SigmaLimit(n)'
</pre>

<ul>
<li>
default parameter = 2

</ul>
</ul>

<div id="historian-retrieval options-wwFilters-ToDiscrete"><h4 id="ToDiscrete" class="header"><a href="#historian-retrieval options-wwFilters-ToDiscrete">ToDiscrete</a></h4></div>
<ul>
<li>
analog to discrete conversion
<pre>
wwFilter = 'ToDiscrete(CutoffValue, Operator)'
</pre>

<li>
CutoffValue:

<ul>
<li>
the value to which the analog value is compared

<li>
default value = 0

</ul>
<li>
Operator:

<ul>
<li>
the comparison operator:

<ul>
<li>
'&lt;'

<li>
'&lt;='

<li>
'&gt;='

<li>
'&gt;'

</ul>
</ul>
</ul>
<div id="historian-retrieval options-wwFilters-SnapTo"><h4 id="SnapTo" class="header"><a href="#historian-retrieval options-wwFilters-SnapTo">SnapTo</a></h4></div>

<ul>
<li>
analog filter that forces values ta a range

<li>
think clamp
<pre>
SnapTo([tolerance[, base_value_1[, base_value_2]...]])
</pre>

<li>
tolerance:

<ul>
<li>
any double value, default: 0.001

</ul>
<li>
basevalue:

<ul>
<li>
zero, one or comma separated, default: 0.0

</ul>
</ul>

<div id="historian-data definitions"><h2 id="data definitions" class="header"><a href="#historian-data definitions">data definitions</a></h2></div>

<p>
data categories, original vs revision-data, streamed vs non-streamed original data
</p>

<div id="historian-data definitions-data categories"><h3 id="data categories" class="header"><a href="#historian-data definitions-data categories">data categories</a></h3></div>
<ul>
<li>
historian:

<ul>
<li>
revision:

<ul>
<li>
latest

<li>
new-original

</ul>
<li>
original:

<ul>
<li>
non-streamed

<li>
streamed:

<ul>
<li>
real-time

<li>
late

<li>
replication

</ul>
</ul>
</ul>
</ul>

<div id="historian-data definitions-data categories-original vs revision"><h4 id="original vs revision" class="header"><a href="#historian-data definitions-data categories-original vs revision">original vs revision</a></h4></div>
<ul>
<li>
original:

<ul>
<li>
is recieved from the data source (realtime stream of data from an IO)

</ul>
<li>
revision:

<ul>
<li>
when you have some original but would like to correct it by adding a revision

</ul>
<li>
while the distinction between original and revision data happens naturally, the distinction between streamed / non-streamed <span id="historian-data definitions-data categories-original vs revision-depends on the ability of the data source to enforce the time order of its output"></span><strong id="depends on the ability of the data source to enforce the time order of its output">depends on the ability of the data source to enforce the time order of its output</strong>.

</ul>

<div id="historian-data definitions-data categories-original vs revision-original streamed data"><h5 id="original streamed data" class="header"><a href="#historian-data definitions-data categories-original vs revision-original streamed data">original streamed data</a></h5></div>

<ul>
<li>
can be efficiently replicated at storage time

<li>
is exposed through the live table / historian io-server

<li>
is handled by store-and-forward

<li>
supports advanced storage configuration algorithms

<li>
is expected to be in time order by the <a href="glossary.html">VTQ</a>

</ul>

<ul>
<li>
real-time data:

<ul>
<li>
is expected to be in time order

<li>
sources:

<ul>
<li>
io-servers, da-servers

<li>
system tags

<li>
transact-sql INSERT-statements where wwVersion = REALTIME

<li>
Application Server

</ul>
</ul>
<li>
late data:

<ul>
<li>
is expected to be in time order

<li>
sources:

<ul>
<li>
io-servers (<a href="glossary.html">RTU</a>s) that send data far in the past compared to historian time

<li>
Application Server that has been configured to send late data

</ul>
</ul>
<li>
replication data:

<ul>
<li>
is data that has been replicated from a Tier-1 to a Tier-2 historian.

<li>
does not contain store-and-forward indicators

</ul>
</ul>

<div id="historian-data definitions-data categories-original vs revision-original non-streamed data"><h5 id="original non-streamed data" class="header"><a href="#historian-data definitions-data categories-original vs revision-original non-streamed data">original non-streamed data</a></h5></div>
<ul>
<li>
can be in any time order

<li>
typical sources:

<ul>
<li>
transact-sql statements with wwVersion = 'ORIGINAL'

<li>
<a href="glossary.html">CSV</a> imports with type 'ORIGINAL VALUE'

<li>
fast load CSV-imports

</ul>
<li>
omitting the time order means that the non-streamed data:

<ul>
<li>
cannot have storage rules applied (unless you do a fast load import)

<li>
can be replicated only through a less efficient queued replication

<li>
cannot be published through the historian IO-server or the live table

<li>
cannot be handled by store-and-forward

</ul>
</ul>

<div id="historian-data definitions-data categories-original vs revision-latest revision data"><h5 id="latest revision data" class="header"><a href="#historian-data definitions-data categories-original vs revision-latest revision data">latest revision data</a></h5></div>
<ul>
<li>
is the addition of a new version of data that has already been stored

<li>
sources:

<ul>
<li>
transact-sql statements such as INSERT/UPDATE with wwVersion = 'LATEST'

<li>
<a href="glossary.html">CSV</a> imports with type 'INSERT', 'UPDATE' and 'MULTIPOINT UPDATE'

</ul>
<li>
the revision data operations never physically delete or alter already stored data.

</ul>

<div id="historian-data definitions-data categories-original vs revision-new-original revision data"><h5 id="new-original revision data" class="header"><a href="#historian-data definitions-data categories-original vs revision-new-original revision data">new-original revision data</a></h5></div>
<ul>
<li>
the new-original data category is used internally, exclusively for replicated data

</ul>

<div id="historian-INSERT and UPDATE query syntax"><h2 id="INSERT and UPDATE query syntax" class="header"><a href="#historian-INSERT and UPDATE query syntax">INSERT and UPDATE query syntax</a></h2></div>

<p>
using transact-sql INSERT and UPDATE statements, you can modify AnalogHistory, DiscreteHistory, StringHistory and history tables
</p>

<p>
you can use the wwVersion parameter to specify different handling for data that you are inserting: (wwVersion:) 
</p>
<ul>
<li>
REALTIME

<li>
LATEST

<li>
ORIGINAL

</ul>

<div id="historian-INSERT and UPDATE query syntax-INSERT query syntax"><h3 id="INSERT query syntax" class="header"><a href="#historian-INSERT and UPDATE query syntax-INSERT query syntax">INSERT query syntax</a></h3></div>

<pre>
INSERT [INTO] {table_name | view_name} (column_list)
  VALUES ({DateTime: constant | variable},
    {TagName: contant | variable},
    {Value: constant | variable}
    [, {QualityDetail: constant | variable}]
    [, {wwTimeZone: constant | variable}]
    [, {wwVersion: constant | variable}]
    )
</pre>
<p>
table_name    | the name of the extension table to insert into
</p>
<blockquote>
| (AnalogHistory, DiscreteHistory, StringHistory, History)
</blockquote>
<p>
view_name     | name of an extension table
</p>
<blockquote>
| (v_AnalogHistory, v_DiscreteHistory, v_StringHistory, v_History)
</blockquote>
<p>
column_list   | optional; (QualityDetail, wwTimeZone, wwVersion)
</p>
<blockquote>
| (DateTime, TagName, Value)
</blockquote>
<ul>
<li>
realtime original data

<ul>
<li>
when wwVersion = 'REALTIME' it assumes it's original data

</ul>
<li>
original non-streamed data

<ul>
<li>
when wwVersion = 'ORIGINAL' 

<li>
to insert original data for IO-server tags, AllowOriginals system parameter must be set to 1

<li>
the timestamp can be any time except in the future

</ul>
<li>
latest revision data

<ul>
<li>
when wwVersion = 'LATEST'

<ul>
<li>
this is essentially to perform an update but without some limitations

</ul>
<li>
historian server supports inserting the first (original) and last (latest) version of a tag value

</ul>
</ul>

<div id="historian-INSERT and UPDATE query syntax-UPDATE query syntax"><h3 id="UPDATE query syntax" class="header"><a href="#historian-INSERT and UPDATE query syntax-UPDATE query syntax">UPDATE query syntax</a></h3></div>
<p>
historian server implements UPDATE only by the OPENQUERY function, not by four-part syntax. a limitation of OPENQUERY is that SQL variables cannot be used in an UPDATE statement.
</p>

<p>
updating data in history always results in a new history version, and can be performed multiple times.
</p>

<pre>
SELECT * FROM OpenQuery(INSQL, 'UPDATE { table_name }
  SET
    column_name = constant [,...n]
  WHERE
    &lt;search_condition&gt;')
</pre>

<p>
table_name        | the name of the extension table to insert into
</p>
<blockquote>
| (AnalogHistory, DiscreteHistory, StringHistory, History)
</blockquote>
<p>
column_name       | (QualityDetail, wwTimeZone, wwVersion)
search_condition  | (DateTime, TagName)
</p>



<div id="historian-classic event system"><h2 id="classic event system" class="header"><a href="#historian-classic event system">classic event system</a></h2></div>

<ul>
<li>
anything that can be determined by examining stored data can be used as an event.

<li>
basic functions:

<ul>
<li>
detects when events occur by comparing sets of criteria against historical data in the database

<li>
optionally logs event records to a sql-server table (EventHistory)

<li>
optionally triggers a configured action each time an event occurs.

</ul>
</ul>


<div id="historian-classic event system-subsystem components"><h3 id="subsystem components" class="header"><a href="#historian-classic event system-subsystem components">subsystem components</a></h3></div>
<p>
Configuration Editor  | part of the SMC, used to specify event definitions and actions
Runtime database      | stores event definition information and al data generated, such as records of detections, summaries and snapshots
Event System Service  | coordinates event detection and action functions.
</p>
<blockquote>
| (aahEventSvc.exe), responsible for reading event information from Runtime
</blockquote>
<p>
SQL variables         | available for use in event queries
</p>

<div id="historian-classic event system-event tags"><h3 id="event tags" class="header"><a href="#historian-classic event system-event tags">event tags</a></h3></div>
<p>
is a name for an event definition. event tags differ from the other types and don't define the variable type to be stored, but instead is a named reference for the event ot detect. 
</p>

<p>
you must specify:
</p>
<ol>
<li>
a name, description and so on

<li>
event criteria / conditions to be met

<li>
log

<li>
event detection

<li>
optional action

</ol>

<div id="historian-classic event system-event detectors"><h3 id="event detectors" class="header"><a href="#historian-classic event system-event detectors">event detectors</a></h3></div>
<p>
every event tag must have an event detector / trigger condition. 
</p>
<ol>
<li>
sql-based

<ul>
<li>
generic sql based on analog/discrete value detectors

<li>
work both agianst historian / microsoft sql server

<li>
if you create a new script, you need to add it to the SQLTemplate table in runtime

<li>
can be tested in SQL Server Query Analyzer

<li>
can apply edge detection / resolution to the returned data:

<ul>
<li>
wwResolution

<li>
wwEdgeDetection

</ul>
<li>
time intervals for how often to check for the event:

<ul>
<li>
<span id="historian-classic event system-event detectors-latency"></span><strong id="latency">latency</strong>: the event can have occured earlier than the schedule time

</ul>
</ul>
<li>
schedule

<ul>
<li>
time based

</ul>
<li>
external

<ul>
<li>
triggering an event by a the ActiveEvent ActiveX control

<li>
an intouch / VB script can invoke the ActiveEvent methods to trigger an event.

<li>
this ActiveX control <span id="historian-classic event system-event detectors-MUST"></span><strong id="MUST">MUST</strong> be installed on the same computer as the trigger

</ul>
</ol>

<p>
the event system will base the query on the last successful detection; the time of the most recent detection become the starting time for the next one.
</p>

<div id="historian-classic event system-event actions"><h3 id="event actions" class="header"><a href="#historian-classic event system-event actions">event actions</a></h3></div>
<p>
the event subsystem is not intended to run external processes, there is a limited ability to run external programs or methods from com-interfaces.
</p>

<ol>
<li>
actions

<li>
snapshot

<ul>
<li>
expensive because of joins

</ul>
<li>
email

<ul>
<li>
pre-configured microsoft exchange message

</ul>
<li>
deadband

<ul>
<li>
deprecated

</ul>
<li>
summary

<ul>
<li>
deprecated; have been used before as a replication

</ul>
</ol>

<ol>
<li>
priority-queues

<li>
critical

<li>
normal

<li>
delayed

</ol>

<div id="historian-classic event system-resource management"><h3 id="resource management" class="header"><a href="#historian-classic event system-resource management">resource management</a></h3></div>

<p>
the Event System Service (aahEventSvc.exe) manages all resources required for event/actions via threads and one pool for each.
</p>

<ol>
<li>
detector thread pools

</ol>
<p>
a single thread for schedule and one sql-based for each time interval.
</p>

<ol>
<li>
action thread pools

</ol>
<p>
is essentially a pool of four threads that execute in three queues (critical, normal, post-detector delay)
</p>

<ol>
<li>
database connections
<table>
<tr>
<th>
component
</th>
<th>
#connections
</th>
</tr>
<tr>
<td>
event service
</td>
<td>
1
</td>
</tr>
<tr>
<td>
sql-based
</td>
<td>
1 per interval
</td>
</tr>
<tr>
<td>
schedule
</td>
<td>
1
</td>
</tr>
<tr>
<td>
action
</td>
<td>
4
</td>
</tr>
</table>

</ol>

<ol>
<li>
overloads and failed queries

<li>
event query failures

</ol>
<p>
if it fails, it will try to execute again three times.
</p>
<ul>
<li>
detector overloads

</ul>
<p>
when the system cannot process all of the detectors in a "timely manner". 
</p>
<ul>
<li>
action overloads

</ul>
<p>
when the system cannot process all of the actions in a "timely manner".
only normal priority actions have overload protection. 
</p>

<div id="historian-classic event system-event variables"><h3 id="event variables" class="header"><a href="#historian-classic event system-event variables">event variables</a></h3></div>
<table>
<tr>
<th>
variable
</th>
<th>
description
</th>
</tr>
</table>
<p>
| @EventTime    | date/time of the event detection | only in detector strings
| @EventTagName | tagname for the event            | only in detector strings
| @StartTime    | start for the detector query     | only in action strings
| @EndTime      | end for the detector query       | only in action strings
</p>


<div id="historian-classic event system-active event"><h3 id="active event" class="header"><a href="#historian-classic event system-active event">active event</a></h3></div>
<p>
a dotnet/activex control that can be loaded into and triggered from any com-enabled program or utility: 
</p>
<ul>
<li>
intouch scripting

<li>
application server:

<ul>
<li>
aa Object scripts

<li>
aa Graphics scripts

</ul>
<li>
third-party utilities

</ul>

<ol>
<li>
commands

<li>
InitializeEx

<li>
AddEventTag

<li>
RemoveEventTag

</ol>

<div id="historian-active event"><h2 id="active event" class="header"><a href="#historian-active event">active event</a></h2></div>

<p>
an activex control that notifies the event subsystem when an event occurs in another application that uses COM-scripting. com-enabled scripting include intouch and VB
</p>

<p>
to enable external events
</p>
<ol>
<li>
create an event tag in the server, make sure the detection type is set to external

<li>
install the ActiveEvent control so it can be used in the activex container (eg intouch) or import the ActiveEvent ActiveX script library to a galaxy

<li>
configure the <a href="glossary.html">DCOM</a> security attributes for the external detector

<li>
write a script that notifies the historian of an external event

</ol>

<div id="historian-active event-active event methods"><h3 id="active event methods" class="header"><a href="#historian-active event-active event methods">active event methods</a></h3></div>
<p>
the activeEvent control enables the remote triggering of events by:
</p>
<ul>
<li>
init computer name

<li>
init tag name

<li>
then calling invokeEventEx()

</ul>

<dl>
<dt>AddEventTag()         :: adds an event to the active event list </dt>
<dd>string -&gt; int </dd>
<dt>InitializeEx()        :: creates a connection to historian </dt>
<dd>string -&gt; int</dd>
<dt>InvokeEventAtTimeEx() </dt>
<dd>triggers the event at a specified time ::string -&gt; string -&gt; int</dd>
<dt>InvokeEventEx()       :: triggers the event </dt>
<dd>string -&gt; int</dd>
<dt>IsConnected()         </dt>
<dd>() -&gt; int</dd>
</dl>

<div id="historian-common databases"><h2 id="common databases" class="header"><a href="#historian-common databases">common databases</a></h2></div>
<table>
<tr>
<th>
database
</th>
<th>
description
</th>
</tr>
<tr>
<td>
EventHistory
</td>
<td>
when an event occured
</td>
</tr>
<tr>
<td>
SummaryHistory
</td>
<td>
when a summary was calculated
</td>
</tr>
<tr>
<td>
v_SummaryData
</td>
<td>
results of summary calculations
</td>
</tr>
<tr>
<td>
v_SnapShotData
</td>
<td>
snapshot values for an event
</td>
</tr>
</table>


<div id="historian-data summarization"><h2 id="data summarization" class="header"><a href="#historian-data summarization">data summarization</a></h2></div>
<p>
is a type of replication that gives a low resolution of a data set.
by default the historian creates a local replication server where this data set would be stored
</p>

<p>
<span id="historian-data summarization-calculation cycle"></span><strong id="calculation cycle">calculation cycle</strong>: the interval between the start and end time of the summary
</p>

<div id="historian-data summarization-analog summary replication"><h3 id="analog summary replication" class="header"><a href="#historian-data summarization-analog summary replication">analog summary replication</a></h3></div>
<ol>
<li>
calculations:

<li>
time-weighted avarage

<li>
standard deviation

<li>
integral

<li>
first value in a period with timestamp

<li>
last value in a period with timestamp

<li>
minimum value in a period with timestamp

<li>
maximum value in a period with timestamp

<li>
start time of summary period

<li>
end time of summary period

<li>
<a href="glossary.html">OPC</a> quality

<li>
percentage of values with good quality

<li>
value

</ol>

<div id="historian-data summarization-state summary replication"><h3 id="state summary replication" class="header"><a href="#historian-data summarization-state summary replication">state summary replication</a></h3></div>
<p>
integer, discrete and strings
</p>
<ol>
<li>
calculations

<li>
total time

<li>
percent of cycle

<li>
shortest time

<li>
longest time

<li>
average time

<li>
<a href="glossary.html">OPC</a> quality

<li>
value

</ol>

<p>
the default number of maximum states = 10
</p>

<div id="historian-data summarization-replication schedule"><h3 id="replication schedule" class="header"><a href="#historian-data summarization-replication schedule">replication schedule</a></h3></div>

<ol>
<li>
periodic replication

<li>
based on a cycle (eg 5min, 1hour)

<li>
custom replication

<li>
fixed times of the day

</ol>


<div id="historian-tiered historians"><h2 id="tiered historians" class="header"><a href="#historian-tiered historians">tiered historians</a></h2></div>
<p>
Tier1: historian of record, original source
Tier2: replicating to, centralized reporting
</p>
<ol>
<li>
network isolation

</ol>
<p>
t1; control network
t2; corporate network
</p>
<ol>
<li>
simple replication

</ol>
<p>
is a type of transformation that retains the resolution, so 1:1 storage to a t2 historian
</p>

<div id="historian-maintenance"><h2 id="maintenance" class="header"><a href="#historian-maintenance">maintenance</a></h2></div>
<p>
historian stores history blocks in:
</p>
<ol>
<li>
circular

<li>
permanent

<li>
buffer

<li>
alternate

</ol>

<div id="historian-maintenance-backup"><h3 id="backup" class="header"><a href="#historian-maintenance-backup">backup</a></h3></div>
<p>
can perform backups using windows backup
to copy a subset, use <a href="glossary.html">SP</a> xp_DiskCopy
</p>
<div id="historian-maintenance-historian databases"><h3 id="historian databases" class="header"><a href="#historian-maintenance-historian databases">historian databases</a></h3></div>
<table>
<tr>
<td>
runtime
</td>
<td>
active
</td>
</tr>
<tr>
<td>
holding
</td>
<td>
temp storage for topic / config from an intouch node
</td>
</tr>
<tr>
<td>
A2ALMDB
</td>
<td>
alarm/events from application server (legacy). (event subsystem on runtime)
</td>
</tr>
</table>

<div id="todo | project:historian +PENDING"><h1 id="todo | project:historian +PENDING" class="header"><a href="#todo | project:historian +PENDING">todo | project:historian +PENDING</a></h1></div>
<ul>
<li class="done0">
Historian Sub  #f9993adc

<li class="done0">
transact sql  #a03d9465

<li class="done0">
infucios ECS  #bbf23b33

<li class="done0">
invensys operations management  #7c732b62

<li class="done0">
how and what saves with OLE?  #39e04c61

<li class="done0">
circular storage / different storage types  #119ee15a

<li class="done0">
configure events;admin:p311  #50187bf6

<ul>
<li class="done0">
schedule p303  #20145ac4

<li class="done0">
external p304  #5a8f0c4d

<li class="done0">
sqlbased p302  #9f859776

</ul>
<li class="done0">
double check edge detection  #23bfc424

<li class="done0">
application server; sequencer  #384527c7

</ul>

    </div>


</body>
</html>
